{% extends "base.html" %}

{% block content %}
    <h1>Audio Segments</h1>
    
    <h1>Audio Segments</h1>
    <ul class="segment-list">
        {% for episode in episodes %}
            {% for segment in episode.segments %}
            <li class="segment-item" 
                data-start="{{ segment.start }}" 
                data-end="{{ segment.end }}"
                data-url="{{ segment.url }}">
                <span class="segment-date">{{ segment.date }}</span>
                <span class="segment-text">{{ segment.text }}</span>
                <span class="segment-duration">{{ segment.duration_str }}</span>
            </li>
            {% endfor %}
        {% endfor %}
    </ul>

    <div class="player-container">
        <audio id="audio-player"></audio>
        <div class="player-controls">
            <button id="play-button"><i class="fas fa-play"></i></button>
            <button id="pause-button"><i class="fas fa-pause"></i></button>
            <button id="prev-button"><i class="fas fa-backward"></i></button>
            <button id="next-button"><i class="fas fa-forward"></i></button>
            <button id="shuffle-button"><i class="fas fa-random"></i></button>
        </div>
    </div>
    
    <script>
        function getAudioSrc() {
            return segments[currentSegment].dataset.url;
        }
    </script>
{% endblock %}
